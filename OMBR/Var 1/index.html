<html>
	<body> 
		<div>
			Current Ordinal:
			<p id="CurrentOrdinal">
				0
			</p>
		</div>
		<button onclick="RunAutomation()">
			<p>
				Run Automation for 1 time.
			</p>
		</button>
		<button onclick="RunAutomationForever()">
			<p>
				Run Automation forever.
			</p>
		</button>
		<script>
			function EqualOrdinal(x,y){
				if(x.length!=y.length)return false;
				for(var i=0;i<x.length;i++){
					if(!EqualOrdinal(x[i],y[i]))return false;
				}
				return true;
			}
			function SmallerOrdinal(x,y){
				for(var i=0;i<y.length;i++){
					if(i>=x.length)return true;
					if(EqualOrdinal(x[i],y[i]))continue;
					if(SmallerOrdinal(x[i],y[i]))return true;
					return false;
				}
				return false;
			}
			function Swap(x,i,j){
				var z=x[i];
				x[i]=x[j];
				x[j]=z;
			}
			function AdjustOrdinal(x){
				for(var i=0;i<x.length;i++){
					x[i]=AdjustOrdinal(x[i]);
				}
				for(var i=0;i<x.length;i++){
					for(var j=i+1;j<x.length;j++){
						if(SmallerOrdinal(x[i],x[j])){
							Swap(x,i,j);
						}
					}
				}
				var y=[];
				for(var i=0;i<x.length;){
					if(i+3<x.length&&EqualOrdinal(x[i],x[i+1])&&EqualOrdinal(x[i+1],x[i+2])&&EqualOrdinal(x[i+2],x[i+3])){
						y.push(x[i].concat([[]]));
						i+=4;
					}
					else{
						y.push(x[i]);
						i++;
					}
				}
				if(y.length!=x.length)AdjustOrdinal(y);
				return y;
			}
			function Sequence(x){
				if(x.length==0)return "0"; 
				var res="";
				for(var i=0;i<x.length;i++){
					if(i!=0)res+="+";
					res+="Ï‰<sup>";
					res+=Sequence(x[i]);
					res+="</sup>";
				}
				return res;
			}
			function AddOrdinal(x,y){
				var z=x.concat(y);
				return AdjustOrdinal(z);
			}
			var Cord=[];
			function Refresh(){
				var CurrentOrdinal=document.getElementById("CurrentOrdinal")
				CurrentOrdinal.innerHTML=Sequence(Cord);
			}
			function RunAutomation(){
				Cord=AddOrdinal(Cord,[[]]);
				Refresh();
			}
			var intv=1;
			function RunAutomationForever(){
				setInterval(()=>{for(var i=1;i<=intv;i++)RunAutomation();},10);intv=intv*2;
			}
		</script>
	</body>
</html>
