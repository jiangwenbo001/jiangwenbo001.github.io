<html>
	<head>
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body> 
	    <style>
	        body {
	            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	            background-color: #1a1a2e;
	            color: #e6e6e6;
	            margin: 0;
	            padding: 0;
	            line-height: 1.6;
	        }
	        
	        /* 主Tab样式 */
	        .tab-container {
	            width: 100%;
	            max-width: 800px;
	            margin: 0 auto;
	        }
	        
	        .tab-header {
	            display: flex;
	            background-color: #16213e;
	            border-radius: 10px 10px 0 0;
	            overflow: hidden;
	        }
	        
	        .tab-button {
	            flex: 1;
	            background: linear-gradient(145deg, #2d4059, #1e2a3a);
	            color: #ffffff;
	            border: none;
	            padding: 15px 20px;
	            cursor: pointer;
	            font-size: 16px;
	            font-weight: 500;
	            transition: all 0.3s ease;
	            text-align: center;
	        }
	        
	        .tab-button:hover {
	            background: linear-gradient(145deg, #3a516d, #2a3a4d);
	        }
	        
	        .tab-button.active {
	            background: linear-gradient(145deg, #0f3460, #1a1a2e);
	            color: #ffd166;
	            box-shadow: inset 0 -3px 0 #ffd166;
	        }
	        
	        .tab-content {
	            display: none;
	            padding: 20px;
	            background-color: rgba(255, 255, 255, 0.05);
	            border-radius: 0 0 10px 10px;
	            border: 1px solid rgba(255, 255, 255, 0.1);
	            border-top: none;
	        }
	        
	        .tab-content.active {
	            display: block;
	        }
	        
	        /* 子Tab样式 */
	        .subtab-container {
	            margin-top: 15px;
	        }
	        
	        .subtab-header {
	            display: flex;
	            background-color: #0f3460;
	            border-radius: 8px 8px 0 0;
	            overflow: hidden;
	            margin-bottom: 0;
	        }
	        
	        .subtab-button {
	            flex: 1;
	            background: linear-gradient(145deg, #1a3a5f, #0d2b4e);
	            color: #b8c7d9;
	            border: none;
	            padding: 12px 15px;
	            cursor: pointer;
	            font-size: 14px;
	            font-weight: 500;
	            transition: all 0.3s ease;
	            text-align: center;
	        }
	        
	        .subtab-button:hover {
	            background: linear-gradient(145deg, #2a4a6f, #1a3a5f);
	        }
	        
	        .subtab-button.active {
	            background: linear-gradient(145deg, #0d2b4e, #1a1a2e);
	            color: #ffd166;
	            box-shadow: inset 0 -2px 0 #ffd166;
	        }
	        
	        .subtab-content {
	            display: none;
	            padding: 15px;
	            background-color: rgba(255, 255, 255, 0.03);
	            border-radius: 0 0 8px 8px;
	            border: 1px solid rgba(255, 255, 255, 0.1);
	            border-top: none;
	        }
	        
	        .subtab-content.active {
	            display: block;
	        }
	        
	        /* 原有样式 */
	        div {
	            margin-bottom: 15px;
	        }
	        
	        button {
	            background: linear-gradient(145deg, #2d4059, #1e2a3a);
	            color: #ffffff;
	            border: none;
	            border-radius: 8px;
	            padding: 12px 20px;
	            margin: 5px;
	            cursor: pointer;
	            font-size: 14px;
	            font-weight: 500;
	            transition: all 0.3s ease;
	            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
	            min-width: 120px;
	        }
	        
	        button:hover {
	            background: linear-gradient(145deg, #3a516d, #2a3a4d);
	            transform: translateY(-2px);
	            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
	        }
	        
	        button:active {
	            transform: translateY(0);
	            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
	        }
	        
	        button p {
	            margin: 0;
	            font-weight: 600;
	        }
	        
	        #CurrentOrdinal {
	            font-size: 24px;
	            font-weight: bold;
	            color: #ffd166;
	            text-shadow: 0 0 10px rgba(255, 209, 102, 0.5);
	        }
	        
	        a[id^="SpeedAutomation"] {
	            font-size: 18px;
	            font-weight: bold;
	            color: #06d6a0;
	        }
	        
	        a[id$="Multiply"] {
	            color: #ef476f;
	        }
	        
	        a[id$="UpgradNeed"] {
	            color: #118ab2;
	            font-weight: bold;
	        }
	        
	        sup {
	            font-size: 0.8em;
	            vertical-align: super;
	        }
	        
			div > div:not(.automation-container > div) {
			    border-radius: 10px;
			    padding: 5px;
			}
	        
	        button > div {
	            background-color: transparent;
	            border: none;
	            padding: 0;
	            margin: 0;
	        }
	        
	        #MarkupFor1Need, #MarkupForXNeed {
	            color: #ff9e00;
	            font-weight: bold;
	        }
	        
	        /* 响应式设计 */
	        @media (max-width: 768px) {
	            body {
	                padding: 10px;
	            }
	            
	            button {
	                width: 100%;
	                margin: 5px 0;
	            }
	            
	            #CurrentOrdinal {
	                font-size: 20px;
	            }
	            
	            .tab-button {
	                padding: 12px 10px;
	                font-size: 14px;
	            }
	            
	            .subtab-button {
	                padding: 10px 8px;
	                font-size: 12px;
	            }
	        }
	        
	        .automation-container {
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	            flex-wrap: wrap;
	        }
	        
	        .automation-info {
	            flex: 1;
	            min-width: 200px;
	        }
	        
	        .automation-upgrade {
	            margin-left: 15px;
	        }
	        
	        .points-display {
	            display: flex;
	            flex-wrap: wrap;
	            gap: 15px;
	        }
	        
	        .point-item {
	            flex: 1;
	            min-width: 150px;
	            background: rgba(255, 255, 255, 0.05);
	            border-radius: 8px;
	            padding: 10px;
	            text-align: center;
	        }
	        
	        .point-value {
	            font-size: 18px;
	            font-weight: bold;
	            color: #ffd166;
	            margin-top: 5px;
	        }
	    </style>
	
	    <div class="tab-container">
	        <div class="tab-header">
	            <button class="tab-button active" onclick="openTab('OrdinalTab')">Ordinal</button>
	            <button class="tab-button" onclick="openTab('SettingTab')">Setting</button>
	        </div>
	        <br>
	        <!-- Ordinal Tab -->
	        <div id="OrdinalTab" class="tab-content active">
	            <div>
	                Current Ordinal:
	                <a id="CurrentOrdinal">
	                    0
	                </a>
	            </div>
	            
	            <!-- 子Tab系统 -->
	            <div class="subtab-container">
	                <div class="subtab-header">
	                    <button class="subtab-button active" onclick="openSubTab('BasicSubTab')">Basic</button>
	                    <button class="subtab-button" onclick="openSubTab('AutomationSubTab')">Automation</button>
	                    <button class="subtab-button" onclick="openSubTab('PointsSubTab')">Points</button>
	                </div>
	                
	                <!-- Basic 子Tab -->
	                <div id="BasicSubTab" class="subtab-content active">
	                    <div>
	                        <div>
	                            <button onclick="Increase()">
	                                <p>
	                                    ordinal +1
	                                </p>
	                            </button>
	                            <button onclick="AbleDisableAutomation()">
	                                <p>
	                                    Able/Disable Automation
	                                </p>
	                            </button>
	                        </div>
	                    </div>
	                </div>
	                
	                <!-- Automation 子Tab -->
	                <div id="AutomationSubTab" class="subtab-content">
	                    <div class="automation-container">
	                        <div class="automation-info">
	                            Speed Of Automation A:
	                            <a id="SpeedAutomationA">
	                                0
	                            </a>
	                             (*<a id="SpeedAutomationAMultiply">0</a>)
	                        </div>
	                        <div class="automation-upgrade">
	                            Upgrade: 
	                            <button onclick="SpeedAutomationAUpgrade()">
	                                <div>
	                                    Need:
	                                    <a id="SpeedAutomationAUpgradNeed">
	                                        ω<sup>2</sup> 
	                                    </a>
	                                </div>
	                            </button>
	                        </div>
	                    </div>
	                    <div class="automation-container">
	                        <div class="automation-info">
	                            Speed Of Automation B:
	                            <a id="SpeedAutomationB">
	                                0
	                            </a>
	                             (*<a id="SpeedAutomationBMultiply">0</a>)
	                        </div>
	                        <div class="automation-upgrade">
	                            Upgrade: 
	                            <button onclick="SpeedAutomationBUpgrade()">
	                                <div>
	                                    Need:
	                                    <a id="SpeedAutomationBUpgradNeed">
	                                        ω<sup>ω</sup> 
	                                    </a>
	                                </div>
	                            </button>
	                        </div>
	                    </div>
	                    <div class="automation-container">
	                        <div class="automation-info">
	                            Speed Of Automation C:
	                            <a id="SpeedAutomationC">
	                                0
	                            </a>
	                             (*<a id="SpeedAutomationCMultiply">0</a>)
	                        </div>
	                        <div class="automation-upgrade">
	                            Upgrade: 
	                            <button onclick="SpeedAutomationCUpgrade()">
	                                <div>
	                                    Need:
	                                    <a id="SpeedAutomationCUpgradNeed">
	                                        ω<sup>ω+3</sup> 
	                                    </a>
	                                </div>
	                            </button>
	                        </div>
	                    </div>
	                    <div class="automation-container">
	                        <div class="automation-info">
	                            Speed Of Automation D:
	                            <a id="SpeedAutomationD">
	                                0
	                            </a>
	                             (*<a id="SpeedAutomationDMultiply">0</a>)
	                        </div>
	                        <div class="automation-upgrade">
	                            Upgrade: 
	                            <button onclick="SpeedAutomationDUpgrade()">
	                                <div>
	                                    Need:
	                                    <a id="SpeedAutomationDUpgradNeed">
	                                        ω<sup>ω3</sup> 
	                                    </a>
	                                </div>
	                            </button>
	                        </div>
	                    </div>
	                    <div>
	                        Automation run 5 times/sec.
	                    </div>
	                    <div>
	                        <div>
	                            <button onclick="Markup1()">
	                                Reach <a id="MarkupFor1Need">ω<sup>ω<sup>2</sup></sup></a> to Reset for 1 op
	                            </button>
	                        </div>
	                        <div>
	                            <button onclick="MarkupX()">
	                                Reach <a id="MarkupForXNeed">ω<sup>ω<sup>2</sup>+ω</sup></a> to Reset for 100 op
	                            </button>
	                        </div> 
	                    </div>
	                </div>
	                <div id="PointsSubTab" class="subtab-content">
	                    <div class="points-display">
	                        <div class="point-item">
	                            <a>Ordinal Points</a>
	                            <a class="point-value" id="OrdinalPoints">0</a>
	                        </div>
	                    </div>
	                    <div style="margin-top: 15px;">
	                        <button onclick="">
	                            Nothing
	                        </button>
	                    </div>
	                </div>
	            </div>
	        </div>
	        <div id="SettingTab" class="tab-content">
	            <h3>Game Settings</h3>
	            <div>
	                <button onclick="SaveSerializableVariablesToClipboardX()"> 
	                    Save file
	                </button>
	                <button onclick="LoadSerializableVariablesFromClipboard()">
	                    Load file
	                </button>
	            </div>
	        </div>
	    </div>
	
	    <script>
	        // 主Tab切换函数
	        function openTab(tabName) {
	            var tabContents = document.getElementsByClassName("tab-content");
	            for (var i = 0; i < tabContents.length; i++) {
	                tabContents[i].classList.remove("active");
	            }
	            var tabButtons = document.getElementsByClassName("tab-button");
	            for (var i = 0; i < tabButtons.length; i++) {
	                tabButtons[i].classList.remove("active");
	            }
	            document.getElementById(tabName).classList.add("active");
	            event.currentTarget.classList.add("active");
	        }
	        
	        // 子Tab切换函数
	        function openSubTab(subTabName) {
	            var subTabContents = document.getElementsByClassName("subtab-content");
	            for (var i = 0; i < subTabContents.length; i++) {
	                subTabContents[i].classList.remove("active");
	            }
	            var subTabButtons = document.getElementsByClassName("subtab-button");
	            for (var i = 0; i < subTabButtons.length; i++) {
	                subTabButtons[i].classList.remove("active");
	            }
	            document.getElementById(subTabName).classList.add("active");
	            event.currentTarget.classList.add("active");
	        }
			function EqualOrdinal(x,y){
				if(x.length!=y.length)return false;
				for(var i=0;i<x.length;i++){
					if(!EqualOrdinal(x[i],y[i]))return false;
				}
				return true;
			}
			function SmallerOrdinal(x,y){
				for(var i=0;i<y.length;i++){
					if(i>=x.length)return true;
					if(EqualOrdinal(x[i],y[i]))continue;
					if(SmallerOrdinal(x[i],y[i]))return true;
					return false;
				}
				return false;
			}
			function Swap(x,i,j){
				var z=x[i];
				x[i]=x[j];
				x[j]=z;
			}
			function AdjustOrdinal(x){
				for(var i=0;i<x.length;i++){
					x[i]=AdjustOrdinal(x[i]);
				}
				for(var i=0;i<x.length;i++){
					for(var j=i+1;j<x.length;j++){
						if(SmallerOrdinal(x[i],x[j])){
							Swap(x,i,j);
						}
					}
				}
				var y=[];
				for(var i=0;i<x.length;){
					if(i+3<x.length&&EqualOrdinal(x[i],x[i+1])&&EqualOrdinal(x[i+1],x[i+2])&&EqualOrdinal(x[i+2],x[i+3])){
						y.push(x[i].concat([[]]));
						i+=4;
						adjusted=1;
					}
					else{
						y.push(x[i]);
						i++;
					}
				}
				return y;
			}
			function Sequence(x){
				if(x.length==0)return "0"; 
				var res="";
				var varprinted=0;
				for(var i=0;i<x.length;){
					if(i!=0)res+="+";
					var pres=Sequence(x[i]);
					if(pres=="0"){
					}
					else if(pres=="1"){
						res+="ω";
					}
					else{
						res+="ω<sup>";
						res+=pres;
						res+="</sup>";
					}
					var times=1;
					for(var j=i+1;j<x.length;j++)if(EqualOrdinal(x[i],x[j]))times++;
					if(times!=1||pres=="0")res+=times;
					i+=times;
					varprinted++;
					if(varprinted>=5){
						res+="+...";
						break;
					}
				}
				return res;
			}
			function AddOrdinal(x,y){
				var z=x.concat(y);
				adjusted=1;
				while(adjusted){
					adjusted=0; 
					z=AdjustOrdinal(z);
				}
				return z;
			}
			//                            CONST AREA
			var multiplyShow=[[],[[]],[[],[]],[[[]]],[[[]],[[]]],[[[],[]]],[[[],[]],[[],[]]],[[[],[],[]]],[[[],[],[]],[[],[],[]]]];
			var multiplyReal=[0,1,2,4,8,16,32,64,128];
			var multiplyIncr=[0,1,1,2,4,8,16,32,64];
			var priceA=[[[[],[]]],[[[[]]]],[[[[]],[],[]]],[[[[]],[[]]]],[[[[]],[[]],[[]],[],[]]],[[[[],[]],[[]]]],[[[[],[]],[[]],[[]],[]]]];
			var priceB=[[[[[]]]],[[[[]],[[]]]],[[[[]],[[]],[[]]]],[[[[],[]]]],[[[[],[]],[[]],[]]],[[[[],[]],[[]],[[]],[],[]]],[[[[],[]],[[]],[[]],[[]],[],[],[]]]];
			var priceC=[[[[[]],[],[],[]]],[[[[]],[[]],[],[],[]]],[[[[]],[[]],[[]],[],[],[]]],[[[[[]]],[],[],[]]],[[[[[]]],[[]],[[]]]],[[[[[]]],[[]],[[]],[[]]]],[[[[[]]],[[[]]]]]];
			var priceD=[[[[[]],[[]],[[]]]],[[[[]],[[]],[[]],[],[]]],[[[[],[]],[[]]]],[[[[],[]],[[]],[],[]]],[[[[],[]],[[]],[[]]]],[[[[],[]],[[]],[[]],[[]],[],[]]],[[[[[]]],[[[]]],[],[]]]];
			//                            VAR AREA
			var adjusted=0;
			var Cord=[];
			var toAdd=[[]];
			var speedA=[];
			var speedB=[];
			var speedC=[];
			var speedD=[];
			var StartAutomation=0;
			var AutomationAv=0;
			var AhaveBuy=0;
			var BhaveBuy=0;
			var ChaveBuy=0;
			var DhaveBuy=0;
			function SaveSerializableVariablesToClipboardX(){
				SaveSerializableVariablesToClipboard(['Cord','toAdd','speedA','speedB','speedC','speedD','AutomationAv','AhaveBuy','BhaveBuy','ChaveBuy','DhaveBuy']);
			}
			function Refresh(){
				var CurrentOrdinal=document.getElementById("CurrentOrdinal")
				CurrentOrdinal.innerHTML=Sequence(Cord);
				var CurrentOrdinal=document.getElementById("SpeedAutomationA");
				CurrentOrdinal.innerHTML=Sequence(speedA);
				var CurrentOrdinal=document.getElementById("SpeedAutomationB");
				CurrentOrdinal.innerHTML=Sequence(speedB);
				var CurrentOrdinal=document.getElementById("SpeedAutomationC");
				CurrentOrdinal.innerHTML=Sequence(speedC);
				var CurrentOrdinal=document.getElementById("SpeedAutomationD");
				CurrentOrdinal.innerHTML=Sequence(speedD);
				var CurrentOrdinal=document.getElementById("SpeedAutomationAMultiply");
				CurrentOrdinal.innerHTML=Sequence(multiplyShow[AhaveBuy]);
				var CurrentOrdinal=document.getElementById("SpeedAutomationBMultiply");
				CurrentOrdinal.innerHTML=Sequence(multiplyShow[BhaveBuy]);
				var CurrentOrdinal=document.getElementById("SpeedAutomationCMultiply");
				CurrentOrdinal.innerHTML=Sequence(multiplyShow[ChaveBuy]);
				var CurrentOrdinal=document.getElementById("SpeedAutomationDMultiply");
				CurrentOrdinal.innerHTML=Sequence(multiplyShow[DhaveBuy]);
				var CurrentOrdinal=document.getElementById("SpeedAutomationAUpgradNeed");
				if(AhaveBuy<priceA.length)CurrentOrdinal.innerHTML=Sequence(priceA[AhaveBuy]);
				else CurrentOrdinal.innerHTML="Infinity";
				var CurrentOrdinal=document.getElementById("SpeedAutomationBUpgradNeed");
				if(BhaveBuy<priceB.length)CurrentOrdinal.innerHTML=Sequence(priceB[BhaveBuy]);
				else CurrentOrdinal.innerHTML="Infinity";
				var CurrentOrdinal=document.getElementById("SpeedAutomationCUpgradNeed");
				if(ChaveBuy<priceC.length)CurrentOrdinal.innerHTML=Sequence(priceC[ChaveBuy]);
				else CurrentOrdinal.innerHTML="Infinity";
				var CurrentOrdinal=document.getElementById("SpeedAutomationDUpgradNeed");
				if(ChaveBuy<priceD.length)CurrentOrdinal.innerHTML=Sequence(priceD[DhaveBuy]);
				else CurrentOrdinal.innerHTML="Infinity";
			}
			function Increase(){
				Cord=AddOrdinal(Cord,[[]]);
				Refresh();
			}
			function RunAutomation(){
				if(AutomationAv){
					if(!EqualOrdinal(speedA,[]))Cord=AddOrdinal(Cord,speedA);
					if(!EqualOrdinal(speedB,[]))speedA=AddOrdinal(speedA,speedB);
					if(!EqualOrdinal(speedC,[]))speedB=AddOrdinal(speedB,speedC);
				}
				Refresh();
			}
			function AbleDisableAutomation(){
				if(!StartAutomation){
					StartAutomation=true;
					setInterval(()=>{
						RunAutomation();
					},200);
				}
				AutomationAv=1-AutomationAv;
			}
			function SpeedAutomationAUpgrade(){
				if(SmallerOrdinal(priceA[AhaveBuy],Cord)){
					speedA=AddOrdinal(speedA,multiplyIncr[AhaveBuy]);
					AhaveBuy++;
					Refresh();
				}
			}
			function SpeedAutomationBUpgrade(){
				if(SmallerOrdinal(priceB[BhaveBuy],Cord)){
					speedB=AddOrdinal(speedB,multiplyIncr[BhaveBuy]);
					BhaveBuy++;
					Refresh();
				}
			}
			function SpeedAutomationCUpgrade(){
				if(SmallerOrdinal(priceC[ChaveBuy],Cord)){
					speedC=AddOrdinal(speedC,multiplyIncr[ChaveBuy]);
					ChaveBuy++;
					Refresh();
				}
			}
			function SaveSerializableVariablesToClipboard(variableNames){
			    const globalObj=window;
			    const serializableVars={};
			    for (const key of variableNames){
					try{
						const value=globalObj[key];
						const serialized=JSON.stringify(value);
						serializableVars[key]=value;
					}catch (error){
						continue;
					}
				}
				const result=Encrypt(JSON.stringify(serializableVars,null,2));
				navigator.clipboard.writeText(result); 
				return serializableVars;
			}
			function Encrypt(text){
				var key=0x55;
				var result='';
				for (let i=0;i<text.length;i++,key++){
					const encryptedChar=text.charCodeAt(i)^key;
					result+=String.fromCharCode(encryptedChar);
				}
				return btoa(unescape(encodeURIComponent(result)));
			}
			function Decrypt(encryptedText){
				console.log(encryptedText); 
				var key=0x55; 
				decoded=decodeURIComponent(escape(atob(encryptedText)));
				var result='';
				for (let i=0;i<decoded.length;i++) {
					const decryptedChar=decoded.charCodeAt(i)^key;
					key++;
					result+=String.fromCharCode(decryptedChar);
				}
				return result;
			}
			function LoadSerializableVariablesFromClipboard(){
			    navigator.clipboard.readText().then(encryptedText=>{
			        const decryptedText=Decrypt(encryptedText);
			        const serializableVars=JSON.parse(decryptedText);
			        console.log(serializableVars);
			        for(const key in serializableVars){
			            window[key]=serializableVars[key];
			        }
			        Refresh();
			    });
			}
	    </script>
	</body>
</html>
